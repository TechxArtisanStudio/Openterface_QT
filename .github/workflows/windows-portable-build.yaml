       - name: Ensure OpenSSL is available in central vcpkg
         shell: cmd
         run: |
           echo Checking central vcpkg for OpenSSL static libs and includes...
           set CENTRAL_LIB_DIR=%VCPKG_DIR%\installed\x64-mingw-static\lib
           set CENTRAL_INCLUDE_DIR=%VCPKG_DIR%\installed\x64-mingw-static\include
           set REPO_LIB_DIR=%SOURCE_DIR%\vcpkg_installed\x64-mingw-static\lib
           set REPO_INCLUDE_DIR=%SOURCE_DIR%\vcpkg_installed\x64-mingw-static\include
           
           if exist "%CENTRAL_LIB_DIR%\libcrypto.a" (
             echo ✅ OpenSSL libs found in central vcpkg
             echo "Listing OpenSSL lib files:"
             dir "%CENTRAL_LIB_DIR%\libcrypto.a"
             dir "%CENTRAL_LIB_DIR%\libssl.a"
             
             if exist "%CENTRAL_INCLUDE_DIR%\openssl" (
               echo ✅ OpenSSL includes found in central vcpkg
               dir "%CENTRAL_INCLUDE_DIR%\openssl"
             ) else (
               echo ❌ OpenSSL includes NOT found at %CENTRAL_INCLUDE_DIR%\openssl
               echo Attempting to copy includes from repo-local installation...
               if exist "%REPO_INCLUDE_DIR%\openssl" (
                 echo Found OpenSSL includes at repo-local location, copying to central vcpkg...
                 mkdir "%CENTRAL_INCLUDE_DIR%" 2>nul || echo "include dir already exists"
                 xcopy "%REPO_INCLUDE_DIR%\openssl" "%CENTRAL_INCLUDE_DIR%\openssl" /Y /I /E
                 if exist "%CENTRAL_INCLUDE_DIR%\openssl" (
                   echo ✅ Successfully copied OpenSSL includes to central vcpkg
                 ) else (
                   echo ❌ Failed to copy OpenSSL includes to central vcpkg
                   exit /b 1
                 )
               ) else (
                 echo ❌ OpenSSL includes not found at repo-local location either
                 exit /b 1
               )
             )
           ) else (
             echo OpenSSL not found in central vcpkg; checking repo-local manifest install...
             if exist "%REPO_LIB_DIR%\libcrypto.a" (
               echo ✅ Found repo-local OpenSSL artifacts; copying into central vcpkg
               mkdir "%CENTRAL_LIB_DIR%" 2>nul || echo "lib dir exists"
               mkdir "%CENTRAL_INCLUDE_DIR%" 2>nul || echo "include dir exists"
               
               echo Copying OpenSSL lib files...
               xcopy "%REPO_LIB_DIR%\*" "%CENTRAL_LIB_DIR%" /Y /I
               
               echo Copying OpenSSL include files...
               if exist "%REPO_INCLUDE_DIR%\openssl" (
                 xcopy "%REPO_INCLUDE_DIR%\openssl" "%CENTRAL_INCLUDE_DIR%\openssl" /Y /I /E
               ) else (
                 echo ⚠️ Warning: OpenSSL includes not found at %REPO_INCLUDE_DIR%\openssl
               )
               
               if exist "%CENTRAL_LIB_DIR%\libcrypto.a" (
                 echo ✅ Successfully copied OpenSSL libs to central vcpkg
               ) else (
                 echo ❌ Failed to copy OpenSSL libs to central vcpkg
                 exit /b 1
               )
             ) else (
               echo Repo-local copy not found; attempting to install OpenSSL into central vcpkg
               pushd "%VCPKG_DIR%" && "%VCPKG_DIR%\vcpkg.exe" install openssl --triplet=x64-mingw-static --clean-after-build --recurse || (
                 echo ❌ Failed to install OpenSSL via vcpkg; printing central vcpkg folder contents for debugging
                 dir "%VCPKG_DIR%\installed\x64-mingw-static" /s
                 exit /b 1
               ) && popd
               
               if exist "%CENTRAL_LIB_DIR%\libcrypto.a" (
                 echo ✅ OpenSSL installed successfully
               ) else (
                 echo ❌ OpenSSL installation failed - libs not found
                 exit /b 1
               )
             )
           )
