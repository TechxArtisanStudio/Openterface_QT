#!/bin/bash
set -e

# Clean up bundled library configuration on removal
if [ "$1" = "remove" ] || [ "$1" = "purge" ]; then
    # Remove ldconfig configuration
    rm -f /etc/ld.so.conf.d/openterface-libs.conf
    
    # Update library cache
    if command -v ldconfig >/dev/null 2>&1; then
        ldconfig
    fi
    
    echo "OpenterfaceQT: Bundled library configuration removed"
fi

exit 0
